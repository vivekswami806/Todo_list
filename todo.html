<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <style>
      #main{
        display: inline-block;
        margin-left: 40%;
        height: 100%;
      }  
      body{
        background: linear-gradient(100deg,rgba(233, 233, 213, 0.643),rgba(214, 184, 184, 0.643));
      }
    </style>
</head>
<body class=" bg-gradient-danger">
   <div class="bg-seccess" id="main">
    <h1>
        TODO LISt
    </h1>
    <div>
        <input type="text" id="text" class="bg-gradient-danger">
        <button id="btn" onclick="submit()" class="btn btn-primary">ADD</button>
        <button id="btn1" onclick="clearAll()"  class="btn btn-danger">clearAll</button>
  
    </div>
    <div id="output" class="text-white" >

    </div>
   
   </div>
   <script>
      let text=document.getElementById("text")
      let btn=document.getElementById("btn")
      let output=document.getElementById("output")
       let arr_as_output = [];
      let  Editdata= ""
      let count=0;

   
       

    function submit(){
        if(!text.value){
            alert("Atlist Add some letter")
        }
     else {
        if(!Editdata){
            let obj={
                text: text.value,
                id:count
                // id: Math.trunc(Math.round()*10000)
            }
            count++
            arr_as_output.push(obj)
        }
        else{
            arr_as_output.map((data)=>{
               if( data.id==Editdata.id){
                data.text=text.value
               }
            })
            Editdata=""
            btn.innerText="ADD"
        }
        console.log(arr_as_output);
          text.value=""
       
     }
      print()
        
    }
    function edithandler(id){
        let x=arr_as_output.find((data)=>{
            return data.id==id
        })
        text.value=x.text
        btn.innerText="OK"
        Editdata=x
    }
    function Delhandler(id){
        let x=arr_as_output.filter((data)=>{
            return data.id != id
        })
        arr_as_output=x
        print()
    }


    function print(){
        let printdata=""
        if(arr_as_output.length==0){
            printdata="no data"
        }else{
            arr_as_output.map((data)=>{
                return printdata+=`
                <div class="mt-3 bg">  <h1>${data.text} 
                    <button onclick="edithandler(${data.id})" class="btn btn-info m-2"> edit</button>  </hr>
                    <button onclick="Delhandler(${data.id})" class="btn btn-danger m-3"> delete</button>  
                    </h1> 
                    
                    </div>`
            })
            
        }
        output.innerHTML=printdata

    }
    print()

       function clearAll(){
         arr_as_output=[]
                            
       }
     
   </script>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</body>
</html>